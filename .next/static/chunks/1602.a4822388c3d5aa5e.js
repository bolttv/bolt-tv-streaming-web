"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1602],{1602:(e,t,s)=>{s.r(t),s.d(t,{default:()=>g});var a=s(5155),r=s(2115),l=s(2619),i=s.n(l),c=s(63),n=s(5626),d=s(6132),o=s(9708);let x=(0,s(1847).A)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);var m=s(5299),h=s(6707),u=s(9453),p=s(7062);function f(e){let{offerId:t}=e,s=(0,r.useRef)(null);return(0,r.useEffect)(()=>{if(!s.current)return;s.current.innerHTML="";let e=document.createElement("div");e.setAttribute("data-cleeng-offer-id",t),e.setAttribute("data-cleeng-publisher-id","870553921"),e.setAttribute("data-cleeng-widget","checkout"),s.current.appendChild(e)},[t]),(0,a.jsx)("div",{ref:s,className:"cleeng-checkout-container","data-testid":"cleeng-checkout"})}function g(){let e=(0,c.useRouter)(),t=(0,c.useSearchParams)(),{isAuthenticated:s,isLoading:l}=(0,h.A)(),[g,b]=(0,r.useState)(null),[y,j]=(0,r.useState)(null),w=t.get("offerId");return((0,r.useEffect)(()=>{w&&e();async function e(){try{let t=(await (0,u.Sw)()).find(e=>e.longId===w);if(t){var e;let s=(null==(e=t.billingCycle)?void 0:e.periodUnit)||"month";j({name:t.title,price:(0,u.$g)(t.price.amount,t.price.currency),period:"/".concat(s.toLowerCase()),description:t.description})}}catch(e){}}},[w]),(0,r.useEffect)(()=>{if(!l){if(!s)return void e.push("/subscribe");if(!w){let t=localStorage.getItem("pending_checkout_offer");t?e.push("/checkout?offerId=".concat(encodeURIComponent(t))):b("No offer selected. Please go back and choose a plan.")}}},[l,s,w,e]),l)?(0,a.jsx)("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:(0,a.jsx)(p.A,{size:"lg"})}):g?(0,a.jsxs)("div",{className:"min-h-screen bg-black text-white",children:[(0,a.jsxs)("div",{className:"p-4 md:p-6 flex justify-between items-center border-b border-white/5",children:[(0,a.jsxs)(i(),{href:"/subscribe",className:"flex items-center gap-2 text-white/70 hover:text-white transition","data-testid":"button-back-error",children:[(0,a.jsx)(n.A,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:"Back"})]}),(0,a.jsx)("img",{src:"/assets/bolt-logo-white.png",alt:"Bolt TV",className:"h-7"}),(0,a.jsx)("div",{className:"w-16"})]}),(0,a.jsxs)("div",{className:"max-w-md mx-auto text-center px-4 py-16",children:[(0,a.jsx)(d.A,{className:"w-12 h-12 text-red-500 mx-auto mb-5"}),(0,a.jsx)("p",{className:"text-red-400 mb-6",children:g}),(0,a.jsx)(i(),{href:"/subscribe",className:"inline-flex items-center justify-center px-8 py-3 bg-white text-black rounded-full font-semibold hover:bg-white/90 transition cursor-pointer",children:"Choose a Plan"})]})]}):(0,a.jsxs)("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[(0,a.jsxs)("div",{className:"px-4 md:px-8 py-4 flex justify-between items-center border-b border-white/5 flex-shrink-0",children:[(0,a.jsxs)(i(),{href:"/subscribe",className:"flex items-center gap-2 text-white/70 hover:text-white transition","data-testid":"button-back",children:[(0,a.jsx)(n.A,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"text-sm",children:"Back"})]}),(0,a.jsx)("img",{src:"/assets/bolt-logo-white.png",alt:"Bolt TV",className:"h-7"}),(0,a.jsx)("div",{className:"w-16"})]}),(0,a.jsx)("div",{className:"flex-1 flex items-start justify-center px-4 md:px-8 py-6 md:py-10",children:(0,a.jsxs)("div",{className:"w-full max-w-5xl",children:[(0,a.jsxs)("div",{className:"mb-6 md:mb-8",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 uppercase tracking-widest mb-2","data-testid":"text-step-indicator",children:"Step 3 of 3"}),(0,a.jsx)("h1",{className:"text-2xl md:text-3xl font-bold","data-testid":"text-checkout-title",children:"Set up your payment"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8 lg:gap-12",children:[(0,a.jsx)("div",{className:"lg:col-span-2 order-2 lg:order-1",children:(0,a.jsxs)("div",{className:"lg:sticky lg:top-8 space-y-6",children:[y&&(0,a.jsxs)("div",{className:"border border-white/10 rounded-lg p-5","data-testid":"plan-summary",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-white uppercase tracking-wide",children:"Your Plan"}),(0,a.jsx)(i(),{href:"/subscribe?changePlan=true",className:"text-sm font-semibold text-white/70 hover:text-white transition cursor-pointer","data-testid":"button-change-plan",children:"Change"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("p",{className:"text-white font-bold text-2xl",children:[y.price,(0,a.jsx)("span",{className:"text-base font-normal text-gray-400",children:y.period})]}),(0,a.jsx)("p",{className:"text-white text-sm font-medium",children:y.name}),y.description&&(0,a.jsx)("p",{className:"text-gray-500 text-xs leading-relaxed",children:y.description})]})]}),(0,a.jsxs)("div",{className:"space-y-4 py-2",children:[(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(o.A,{className:"w-4 h-4 text-gray-500 mt-0.5 flex-shrink-0"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 leading-relaxed",children:"Your payment is encrypted and processed securely."})]}),(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(x,{className:"w-4 h-4 text-gray-500 mt-0.5 flex-shrink-0"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 leading-relaxed",children:"Cancel anytime. No commitments, no cancellation fees."})]})]}),(0,a.jsx)("p",{className:"text-[11px] text-gray-600 leading-relaxed",children:"By completing your purchase, you agree to our Terms of Use and Privacy Policy. Your subscription will automatically renew and you will be charged the subscription fee until you cancel."})]})}),(0,a.jsx)("div",{className:"lg:col-span-3 order-1 lg:order-2",children:w?(0,a.jsx)(f,{offerId:w}):(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-16",children:[(0,a.jsx)(m.A,{className:"w-8 h-8 animate-spin text-white mb-3"}),(0,a.jsx)("span",{className:"text-gray-400 text-sm",children:"Preparing checkout..."})]})})]})]})})]})}},5016:(e,t,s)=>{s.d(t,{cn:()=>l});var a=s(2821),r=s(5889);function l(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.QP)((0,a.$)(t))}},5299:(e,t,s)=>{s.d(t,{A:()=>a});let a=(0,s(1847).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},5626:(e,t,s)=>{s.d(t,{A:()=>a});let a=(0,s(1847).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},6132:(e,t,s)=>{s.d(t,{A:()=>a});let a=(0,s(1847).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},7062:(e,t,s)=>{s.d(t,{A:()=>l});var a=s(5155),r=s(5016);function l(e){let{size:t="md",className:s}=e;return(0,a.jsx)("div",{className:(0,r.cn)("rounded-full animate-spin","border-transparent border-t-white border-r-white",{sm:"w-6 h-6 border-2",md:"w-10 h-10 border-3",lg:"w-14 h-14 border-4"}[t],s),style:{borderStyle:"solid",background:"transparent"},role:"status","aria-label":"Loading"})}},9708:(e,t,s)=>{s.d(t,{A:()=>a});let a=(0,s(1847).A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])}}]);