"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3630],{508:(e,t,a)=>{a.d(t,{A:()=>s});let s=(0,a(1847).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},532:(e,t,a)=>{a.d(t,{A:()=>s});let s=(0,a(1847).A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},3630:(e,t,a)=>{a.r(t),a.d(t,{default:()=>j});var s=a(5155),r=a(2115),l=a(2619),i=a.n(l),n=a(63),o=a(5626),d=a(6132),c=a(5299),h=a(5917),m=a(3664),u=a(9708),x=a(532),p=a(5447),g=a(508),b=a(4033),f=a(6707),w=a(9453);let y=["Unlimited streaming","HD quality","Cancel anytime"];function j(){let e=(0,n.useRouter)(),t=(0,n.useSearchParams)(),{isAuthenticated:a,authStep:l,signUp:j}=(0,f.A)(),v="true"===t.get("changePlan"),[N,k]=(0,r.useState)(()=>a?"plan":"account"),[A,C]=(0,r.useState)([]),[S,F]=(0,r.useState)("month"),[I,P]=(0,r.useState)(""),[_,M]=(0,r.useState)(()=>t.get("email")||""),[E,Y]=(0,r.useState)(""),[z,L]=(0,r.useState)(""),[U,B]=(0,r.useState)(!1),[R,q]=(0,r.useState)(!1),[D,V]=(0,r.useState)(""),[H,T]=(0,r.useState)(""),[G,W]=(0,r.useState)(""),[Z,$]=(0,r.useState)(""),[J,K]=(0,r.useState)(""),[O,Q]=(0,r.useState)(!1),[X,ee]=(0,r.useState)(!0),[et,ea]=(0,r.useState)(null),es=A.filter(e=>e.period==="/".concat(S)).sort((e,t)=>parseFloat(e.price.replace(/[^0-9.]/g,""))-parseFloat(t.price.replace(/[^0-9.]/g,"")));(0,r.useEffect)(()=>{if(a&&"authenticated"===l){if(!v){let t=localStorage.getItem("pending_checkout_offer");if(t)return void e.push("/checkout?offerId=".concat(encodeURIComponent(t)))}k("plan")}},[a,l,e,v]),(0,r.useEffect)(()=>{(async()=>{try{ee(!0),ea(null);let e=(await (0,w.Sw)()).filter(e=>!1!==e.active);if(e.length>0){let t=e.map(e=>{var t,a;let s=["Most Popular","Most Value","Best Value","Popular"],r=null==(t=e.tags)?void 0:t.find(e=>s.some(t=>e.toLowerCase().includes(t.toLowerCase()))),l=(null==(a=e.billingCycle)?void 0:a.periodUnit)||"month",i="/".concat(l.toLowerCase());return{id:e.id,offerId:e.longId,name:e.title,price:(0,w.$g)(e.price.amount,e.price.currency),period:i,features:y,popular:!!r,badge:r}});C(t);let a=localStorage.getItem("pending_checkout_offer"),s=a?t.find(e=>e.offerId===a):null;if(s){P(s.id);let e="/year"===s.period?"year":"month";F(e)}else{let e=t.filter(e=>"/month"===e.period);e.length>0?P(e[0].id):t.length>0&&(P(t[0].id),F("year"))}}else ea("No subscription plans are currently available. Please check back later.")}catch(e){console.error("Failed to fetch offers:",e),ea("Unable to load subscription plans. Please try again later.")}finally{ee(!1)}})()},[]),(0,r.useEffect)(()=>{let e=A.filter(e=>e.period==="/".concat(S));e.length>0&&!e.find(e=>e.id===I)&&P(e[0].id)},[S,A,I]);let er=async e=>{if(e.preventDefault(),!_.trim())return void ea("Please enter your email address");if(!E)return void ea("Please enter a password");if(E!==z)return void ea("Passwords do not match");if(Z&&new Date().getFullYear()-parseInt(Z)<18)return void ea("You must be at least 18 years old to create an account");Q(!0),ea(null);let t=await j(_.trim(),E,{firstName:D.trim()||void 0,lastName:H.trim()||void 0,gender:G||void 0,birthYear:Z||void 0,zipCode:J.trim()||void 0});t.success?(k("plan"),ea(null)):t.existingUser?ea("An account with this email already exists. Please sign in instead."):ea(t.error||"Failed to create account"),Q(!1)};return(0,s.jsxs)("div",{className:"min-h-screen bg-black text-white",children:[(0,s.jsxs)("div",{className:"p-4 md:p-8 flex justify-between items-center",children:[(0,s.jsxs)(i(),{href:v?"/checkout?offerId=".concat(encodeURIComponent(localStorage.getItem("pending_checkout_offer")||"")):"/",className:"flex items-center gap-2 text-white/70 hover:text-white transition","data-testid":"button-back",children:[(0,s.jsx)(o.A,{className:"w-5 h-5"}),(0,s.jsx)("span",{children:v?"Back to Checkout":"Back to Home"})]}),"account"===N&&(0,s.jsx)(i(),{href:"/login",className:"text-white hover:text-white/80 font-medium",children:"Sign In"})]}),(0,s.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-8",children:["plan"===N&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"text-center mb-12",children:[(0,s.jsx)("img",{src:"/assets/bolt-logo-white.png",alt:"Bolt TV",className:"h-10 mx-auto mb-6"}),(0,s.jsx)("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:v?"Change Your Plan":"Choose Your Plan"}),(0,s.jsx)("p",{className:"text-gray-400 text-lg max-w-2xl mx-auto",children:v?"Select a new plan and return to checkout.":"Start streaming today. Cancel anytime."})]}),et&&!X&&(0,s.jsx)("div",{className:"max-w-md mx-auto mb-8",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 bg-red-500/20 border border-red-500/50 text-red-200 px-4 py-3 rounded-lg",children:[(0,s.jsx)(d.A,{className:"w-5 h-5 flex-shrink-0"}),(0,s.jsx)("span",{children:et})]})}),X?(0,s.jsx)("div",{className:"flex justify-center py-16",children:(0,s.jsx)(c.A,{className:"w-8 h-8 animate-spin text-white"})}):A.length>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"flex justify-center mb-8",children:(0,s.jsxs)("div",{className:"bg-white/10 p-1 rounded-full flex",children:[(0,s.jsx)("button",{onClick:()=>F("month"),className:"px-6 py-2 rounded-full text-sm font-medium transition cursor-pointer ".concat("month"===S?"bg-white text-black":"text-gray-400 hover:text-white"),"data-testid":"button-monthly",children:"Monthly"}),(0,s.jsx)("button",{onClick:()=>F("year"),className:"px-6 py-2 rounded-full text-sm font-medium transition cursor-pointer ".concat("year"===S?"bg-white text-black":"text-gray-400 hover:text-white"),"data-testid":"button-yearly",children:"Yearly"})]})}),(0,s.jsx)("div",{className:"grid gap-6 max-w-4xl mx-auto mb-8 ".concat(1===es.length?"grid-cols-1 max-w-md":2===es.length?"md:grid-cols-2":"md:grid-cols-3"),children:es.map(e=>(0,s.jsxs)("div",{onClick:()=>P(e.id),className:"relative p-6 rounded-2xl cursor-pointer transition-all ".concat(I===e.id?"bg-white/[0.08] border-2 border-white scale-105":"bg-white/5 border border-white/10 hover:border-white/30"),"data-testid":"card-plan-".concat(e.id),children:[e.badge&&(0,s.jsx)("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:(0,s.jsx)("span",{className:"bg-white text-black text-xs font-bold px-3 py-1 rounded-full",children:e.badge})}),(0,s.jsxs)("div",{className:"text-center mb-6",children:[(0,s.jsx)("h3",{className:"text-xl font-bold mb-2",children:e.name}),(0,s.jsxs)("div",{className:"flex items-baseline justify-center gap-1",children:[(0,s.jsx)("span",{className:"text-4xl font-bold",children:e.price}),(0,s.jsx)("span",{className:"text-gray-400",children:e.period})]})]}),(0,s.jsx)("ul",{className:"space-y-3 mb-6",children:e.features.map((e,t)=>(0,s.jsxs)("li",{className:"flex items-center gap-2",children:[(0,s.jsx)(h.A,{className:"w-5 h-5 text-green-400 flex-shrink-0"}),(0,s.jsx)("span",{className:"text-gray-300",children:e})]},t))}),(0,s.jsx)("div",{className:"w-6 h-6 rounded-full border-2 mx-auto ".concat(I===e.id?"border-white bg-white":"border-white/30"),children:I===e.id&&(0,s.jsx)(h.A,{className:"w-4 h-4 text-black m-0.5"})})]},e.id))}),(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)("button",{onClick:()=>{let t=A.find(e=>e.id===I);if(!t)return void ea("Please select a plan");localStorage.setItem("pending_checkout_offer",t.offerId),e.push("/checkout?offerId=".concat(encodeURIComponent(t.offerId)))},disabled:!I,className:"px-12 py-4 bg-white hover:bg-white/90 disabled:bg-white/40 disabled:cursor-not-allowed text-black font-bold text-lg rounded-full transition cursor-pointer","data-testid":"button-continue",children:v?"Update Plan":"Continue"})})]})]}),"account"===N&&!a&&(0,s.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("img",{src:"/assets/bolt-logo-white.png",alt:"Bolt TV",className:"h-8 mx-auto mb-6"}),(0,s.jsx)("h1",{className:"text-2xl md:text-3xl font-bold mb-2",children:"Create Your Account"}),(0,s.jsx)("p",{className:"text-gray-400",children:"Enter your email and password to get started."})]}),(0,s.jsxs)("form",{onSubmit:er,children:[et&&(0,s.jsxs)("div",{className:"flex items-center gap-2 bg-red-500/20 border border-red-500/50 text-red-200 px-4 py-3 rounded-lg mb-6","data-testid":"error-message",children:[(0,s.jsx)(d.A,{className:"w-5 h-5 flex-shrink-0"}),(0,s.jsx)("span",{className:"text-sm",children:et})]}),(0,s.jsxs)("div",{className:"bg-white/[0.04] rounded-2xl p-8 backdrop-blur-sm border border-white/10",children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-2",children:"Email Address"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(m.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,s.jsx)("input",{type:"email",id:"email",value:_,onChange:e=>M(e.target.value),placeholder:"you@example.com",className:"w-full pl-10 pr-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-white focus:border-transparent",disabled:O,"data-testid":"input-email"})]})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(u.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,s.jsx)("input",{type:U?"text":"password",id:"password",value:E,onChange:e=>Y(e.target.value),placeholder:"Enter your password",className:"w-full pl-10 pr-12 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-white focus:border-transparent",disabled:O,"data-testid":"input-password"}),(0,s.jsx)("button",{type:"button",onClick:()=>B(!U),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white",children:U?(0,s.jsx)(x.A,{className:"w-5 h-5"}):(0,s.jsx)(p.A,{className:"w-5 h-5"})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-gray-300 mb-2",children:"Confirm Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(u.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,s.jsx)("input",{type:R?"text":"password",id:"confirm-password",value:z,onChange:e=>L(e.target.value),placeholder:"Re-enter your password",className:"w-full pl-10 pr-12 py-3 bg-white/10 border rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-white focus:border-transparent ".concat(z&&z!==E?"border-red-500":"border-white/20"),disabled:O,"data-testid":"input-confirm-password"}),(0,s.jsx)("button",{type:"button",onClick:()=>q(!R),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white",children:R?(0,s.jsx)(x.A,{className:"w-5 h-5"}):(0,s.jsx)(p.A,{className:"w-5 h-5"})})]}),z&&z!==E&&(0,s.jsx)("p",{className:"text-red-400 text-xs mt-1",children:"Passwords do not match"})]})]}),(0,s.jsxs)("div",{className:"bg-white/[0.04] rounded-2xl p-8 backdrop-blur-sm border border-white/10 mt-6",children:[(0,s.jsxs)("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[(0,s.jsx)(g.A,{className:"w-5 h-5"}),"About You"]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"first-name",className:"block text-sm font-medium text-gray-300 mb-2",children:"First Name"}),(0,s.jsx)("input",{type:"text",id:"first-name",value:D,onChange:e=>V(e.target.value),placeholder:"First name",className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-white focus:border-transparent",disabled:O,"data-testid":"input-first-name"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"last-name",className:"block text-sm font-medium text-gray-300 mb-2",children:"Last Name"}),(0,s.jsx)("input",{type:"text",id:"last-name",value:H,onChange:e=>T(e.target.value),placeholder:"Last name",className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-white focus:border-transparent",disabled:O,"data-testid":"input-last-name"})]})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{htmlFor:"gender",className:"block text-sm font-medium text-gray-300 mb-2",children:"Gender"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("select",{id:"gender",value:G,onChange:e=>W(e.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-white focus:border-transparent appearance-none cursor-pointer",disabled:O,"data-testid":"select-gender",children:[(0,s.jsx)("option",{value:"",className:"bg-gray-900",children:"Select"}),(0,s.jsx)("option",{value:"man",className:"bg-gray-900",children:"Man"}),(0,s.jsx)("option",{value:"woman",className:"bg-gray-900",children:"Woman"}),(0,s.jsx)("option",{value:"none_of_the_above",className:"bg-gray-900",children:"None of the Above"}),(0,s.jsx)("option",{value:"prefer_not_to_say",className:"bg-gray-900",children:"Prefer Not To Say"})]}),(0,s.jsx)(b.A,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"birth-year",className:"block text-sm font-medium text-gray-300 mb-2",children:"Birth Year"}),(0,s.jsxs)("select",{id:"birth-year",value:Z,onChange:e=>$(e.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-white focus:border-transparent appearance-none",disabled:O,"data-testid":"input-birth-year",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%239ca3af' d='M6 8L1 3h10z'/%3E%3C/svg%3E\")",backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center"},children:[(0,s.jsx)("option",{value:"",className:"bg-gray-900",children:"Select year"}),Array.from({length:new Date().getFullYear()-18-1919},(e,t)=>{let a=new Date().getFullYear()-18-t;return(0,s.jsx)("option",{value:String(a),className:"bg-gray-900",children:a},a)})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"zip-code",className:"block text-sm font-medium text-gray-300 mb-2",children:"Zip Code"}),(0,s.jsx)("input",{type:"text",id:"zip-code",value:J,onChange:e=>K(e.target.value.replace(/[^0-9-]/g,"").slice(0,10)),placeholder:"12345",maxLength:10,className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-white focus:border-transparent",disabled:O,"data-testid":"input-zip-code"})]})]})]}),(0,s.jsx)("button",{type:"submit",disabled:O||!_.trim()||!E||!z||E!==z,className:"w-full mt-6 py-3 bg-white hover:bg-white/90 disabled:bg-white/40 disabled:cursor-not-allowed text-black font-semibold rounded-lg transition cursor-pointer flex items-center justify-center gap-2","data-testid":"button-create-account",children:O?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.A,{className:"w-5 h-5 animate-spin"}),"Creating Account..."]}):"Create Account"})]}),(0,s.jsxs)("p",{className:"text-center mt-6 text-gray-400 text-sm",children:["Already have an account?"," ",(0,s.jsx)(i(),{href:"/login",className:"text-white hover:text-white/80 font-medium",children:"Sign In"})]})]})]})]})}},3664:(e,t,a)=>{a.d(t,{A:()=>s});let s=(0,a(1847).A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},4033:(e,t,a)=>{a.d(t,{A:()=>s});let s=(0,a(1847).A)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},5299:(e,t,a)=>{a.d(t,{A:()=>s});let s=(0,a(1847).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},5447:(e,t,a)=>{a.d(t,{A:()=>s});let s=(0,a(1847).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},5626:(e,t,a)=>{a.d(t,{A:()=>s});let s=(0,a(1847).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},5917:(e,t,a)=>{a.d(t,{A:()=>s});let s=(0,a(1847).A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},6132:(e,t,a)=>{a.d(t,{A:()=>s});let s=(0,a(1847).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},9708:(e,t,a)=>{a.d(t,{A:()=>s});let s=(0,a(1847).A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])}}]);