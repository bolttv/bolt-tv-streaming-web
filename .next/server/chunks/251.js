exports.id=251,exports.ids=[251],exports.modules={8595:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>g});var d=c(75338),e=c(22821),f=c(61782);function g(){return(0,d.jsx)("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:(0,d.jsx)(e.Card,{className:"w-full max-w-md mx-4",children:(0,d.jsxs)(e.CardContent,{className:"pt-6",children:[(0,d.jsxs)("div",{className:"flex mb-4 gap-2",children:[(0,d.jsx)(f.A,{className:"h-8 w-8 text-red-500"}),(0,d.jsx)("h1",{className:"text-2xl font-bold text-gray-900","data-testid":"text-not-found-title",children:"404 Page Not Found"})]}),(0,d.jsx)("p",{className:"mt-4 text-sm text-gray-600","data-testid":"text-not-found-message",children:"The page you are looking for does not exist."})]})})})}},14293:(a,b,c)=>{"use strict";function d(a){}function e(){return null}function f(){}async function g(a,b,c,d){return(await fetch("/api/cleeng/sso",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,externalId:b,firstName:c,lastName:d})})).json()}async function h(a,b){return(await fetch(`/api/cleeng/subscriptions/${a}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${b}`}})).json()}c.d(b,{Ef:()=>f,X4:()=>h,fH:()=>e,gM:()=>d,vr:()=>g})},15514:(a,b,c)=>{"use strict";c.d(b,{cn:()=>f});var d=c(43249),e=c(58829);function f(...a){return(0,e.QP)((0,d.$)(a))}},15827:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,54160,23)),Promise.resolve().then(c.t.bind(c,31603,23)),Promise.resolve().then(c.t.bind(c,68495,23)),Promise.resolve().then(c.t.bind(c,75170,23)),Promise.resolve().then(c.t.bind(c,77526,23)),Promise.resolve().then(c.t.bind(c,78922,23)),Promise.resolve().then(c.t.bind(c,29234,23)),Promise.resolve().then(c.t.bind(c,12263,23)),Promise.resolve().then(c.bind(c,82146))},16953:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>h,metadata:()=>g});var d=c(75338),e=c(84105);c(82704);var f=c(66664);let g={title:"StreamMax - Premium Entertainment",description:"Watch the latest series, movies, and exclusive originals on StreamMax.",openGraph:{title:"StreamMax - Premium Entertainment",description:"Watch the latest series, movies, and exclusive originals on StreamMax.",type:"website",images:["https://replit.com/public/images/opengraph.png"]},twitter:{card:"summary_large_image",site:"@replit",title:"StreamMax",description:"Watch the latest series, movies, and exclusive originals on StreamMax.",images:["https://replit.com/public/images/opengraph.png"]},icons:{icon:"/favicon.png"}};function h({children:a}){return(0,d.jsxs)("html",{lang:"en",className:"dark",suppressHydrationWarning:!0,children:[(0,d.jsxs)("head",{children:[(0,d.jsx)("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),(0,d.jsx)("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"}),(0,d.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Outfit:wght@300;400;500;600;700;800&display=swap",rel:"stylesheet"})]}),(0,d.jsxs)("body",{suppressHydrationWarning:!0,children:[(0,d.jsx)(e.default,{src:"https://cdn.jwplayer.com/libraries/EBg26wOK.js",strategy:"afterInteractive"}),(0,d.jsx)(e.default,{src:"https://widgets.prod.cleeng.com/cleeng.js",strategy:"afterInteractive",type:"module"}),(0,d.jsx)(f.Providers,{children:a})]})]})}},17290:(a,b,c)=>{"use strict";c.a(a,async(a,d)=>{try{c.d(b,{Providers:()=>k});var e=c(21124),f=c(96610),g=c(88380),h=c(69333),i=c(48853),j=a([h]);function k({children:a}){return(0,e.jsx)(f.Ht,{client:g.qQ,children:(0,e.jsxs)(h.O,{children:[a,(0,e.jsx)(i.l,{})]})})}h=(j.then?(await j)():j)[0],d()}catch(a){d(a)}})},22821:(a,b,c)=>{"use strict";c.d(b,{Card:()=>e,CardContent:()=>f});var d=c(97954);let e=(0,d.registerClientReference)(function(){throw Error("Attempted to call Card() from the server but Card is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/runner/workspace/components/ui/card.tsx","Card");(0,d.registerClientReference)(function(){throw Error("Attempted to call CardHeader() from the server but CardHeader is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/runner/workspace/components/ui/card.tsx","CardHeader"),(0,d.registerClientReference)(function(){throw Error("Attempted to call CardFooter() from the server but CardFooter is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/runner/workspace/components/ui/card.tsx","CardFooter"),(0,d.registerClientReference)(function(){throw Error("Attempted to call CardTitle() from the server but CardTitle is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/runner/workspace/components/ui/card.tsx","CardTitle"),(0,d.registerClientReference)(function(){throw Error("Attempted to call CardDescription() from the server but CardDescription is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/runner/workspace/components/ui/card.tsx","CardDescription");let f=(0,d.registerClientReference)(function(){throw Error("Attempted to call CardContent() from the server but CardContent is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/runner/workspace/components/ui/card.tsx","CardContent")},22968:(a,b,c)=>{Promise.resolve().then(c.bind(c,22821))},23640:(a,b,c)=>{Promise.resolve().then(c.bind(c,45119))},45119:(a,b,c)=>{"use strict";c.d(b,{Card:()=>g,CardContent:()=>h});var d=c(21124),e=c(38301),f=c(15514);let g=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("rounded-xl border bg-card text-card-foreground shadow",a),...b}));g.displayName="Card",e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("flex flex-col space-y-1.5 p-6",a),...b})).displayName="CardHeader",e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("font-semibold leading-none tracking-tight",a),...b})).displayName="CardTitle",e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("text-sm text-muted-foreground",a),...b})).displayName="CardDescription";let h=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("p-6 pt-0",a),...b}));h.displayName="CardContent",e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("flex items-center p-6 pt-0",a),...b})).displayName="CardFooter"},48853:(a,b,c)=>{"use strict";c.d(b,{l:()=>x});var d=c(21124),e=c(38301);let f=0,g=new Map,h=a=>{if(g.has(a))return;let b=setTimeout(()=>{g.delete(a),k({type:"REMOVE_TOAST",toastId:a})},1e6);g.set(a,b)},i=[],j={toasts:[]};function k(a){j=((a,b)=>{switch(b.type){case"ADD_TOAST":return{...a,toasts:[b.toast,...a.toasts].slice(0,1)};case"UPDATE_TOAST":return{...a,toasts:a.toasts.map(a=>a.id===b.toast.id?{...a,...b.toast}:a)};case"DISMISS_TOAST":{let{toastId:c}=b;return c?h(c):a.toasts.forEach(a=>{h(a.id)}),{...a,toasts:a.toasts.map(a=>a.id===c||void 0===c?{...a,open:!1}:a)}}case"REMOVE_TOAST":if(void 0===b.toastId)return{...a,toasts:[]};return{...a,toasts:a.toasts.filter(a=>a.id!==b.toastId)}}})(j,a),i.forEach(a=>{a(j)})}function l({...a}){let b=(f=(f+1)%Number.MAX_SAFE_INTEGER).toString(),c=()=>k({type:"DISMISS_TOAST",toastId:b});return k({type:"ADD_TOAST",toast:{...a,id:b,open:!0,onOpenChange:a=>{a||c()}}}),{id:b,dismiss:c,update:a=>k({type:"UPDATE_TOAST",toast:{...a,id:b}})}}var m=c(57330),n=c(26691),o=c(79931),p=c(15514);let q=m.Kq,r=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(m.LM,{ref:c,className:(0,p.cn)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",a),...b}));r.displayName=m.LM.displayName;let s=(0,n.F)("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),t=e.forwardRef(({className:a,variant:b,...c},e)=>(0,d.jsx)(m.bL,{ref:e,className:(0,p.cn)(s({variant:b}),a),...c}));t.displayName=m.bL.displayName,e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(m.rc,{ref:c,className:(0,p.cn)("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",a),...b})).displayName=m.rc.displayName;let u=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(m.bm,{ref:c,className:(0,p.cn)("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",a),"toast-close":"",...b,children:(0,d.jsx)(o.A,{className:"h-4 w-4"})}));u.displayName=m.bm.displayName;let v=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(m.hE,{ref:c,className:(0,p.cn)("text-sm font-semibold",a),...b}));v.displayName=m.hE.displayName;let w=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(m.VY,{ref:c,className:(0,p.cn)("text-sm opacity-90",a),...b}));function x(){let{toasts:a}=function(){let[a,b]=e.useState(j);return e.useEffect(()=>(i.push(b),()=>{let a=i.indexOf(b);a>-1&&i.splice(a,1)}),[a]),{...a,toast:l,dismiss:a=>k({type:"DISMISS_TOAST",toastId:a})}}();return(0,d.jsxs)(q,{children:[a.map(function({id:a,title:b,description:c,action:e,...f}){return(0,d.jsxs)(t,{...f,children:[(0,d.jsxs)("div",{className:"grid gap-1",children:[b&&(0,d.jsx)(v,{children:b}),c&&(0,d.jsx)(w,{children:c})]}),e,(0,d.jsx)(u,{})]},a)}),(0,d.jsx)(r,{})]})}w.displayName=m.VY.displayName},55739:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,81170,23)),Promise.resolve().then(c.t.bind(c,23597,23)),Promise.resolve().then(c.t.bind(c,36893,23)),Promise.resolve().then(c.t.bind(c,89748,23)),Promise.resolve().then(c.t.bind(c,6060,23)),Promise.resolve().then(c.t.bind(c,7184,23)),Promise.resolve().then(c.t.bind(c,69576,23)),Promise.resolve().then(c.t.bind(c,73041,23)),Promise.resolve().then(c.t.bind(c,51384,23))},59009:(a,b,c)=>{"use strict";c.a(a,async(a,d)=>{try{c.d(b,{E$:()=>g,ND:()=>l,Vf:()=>i});var e=c(93721),f=a([e]);e=(f.then?(await f)():f)[0];let j="https://dmbnsvghqluajdvdsmvu.supabase.co",k="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRtYm5zdmdocWx1YWpkdmRzbXZ1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAxNDMxNTMsImV4cCI6MjA4NTcxOTE1M30.inNKGD8H3AEbYENVE8eyX64YkbK7r4ruG4xQXTFGoQw",l=j&&k?(0,e.createClient)(j,k,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}}):null;async function g(a){if(!l)return null;let{data:b,error:c}=await l.from("profiles").select("*").eq("id",a).single();return c?(console.error("Error fetching profile:",c),null):b}async function h(a,b){if(!l)return null;let{data:c,error:d}=await l.from("profiles").update({...b,updated_at:new Date().toISOString()}).eq("id",a).select().single();return d?(console.error("Error updating profile:",d),null):c}async function i(a,b,c){if(!l)return null;let{data:d,error:e}=await l.from("profiles").upsert({id:a,email:b,...c,updated_at:new Date().toISOString()},{onConflict:"id",ignoreDuplicates:!1}).select().single();return e?(console.error("Error upserting profile:",e),h(a,c)):d}d()}catch(a){d(a)}})},66664:(a,b,c)=>{"use strict";c.d(b,{Providers:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call Providers() from the server but Providers is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/runner/workspace/components/providers.tsx","Providers")},69333:(a,b,c)=>{"use strict";c.a(a,async(a,d)=>{try{c.d(b,{O:()=>k});var e=c(21124),f=c(38301),g=c(59009),h=c(14293),i=c(74843),j=a([g,i]);[g,i]=j.then?(await j)():j;let l=(0,f.createContext)(void 0);function k({children:a}){let[b,c]=(0,f.useState)(null),[d,i]=(0,f.useState)(null),[j,k]=(0,f.useState)(null),[m,n]=(0,f.useState)(!0),[o,p]=(0,f.useState)("email"),[q,r]=(0,f.useState)(null),[s,t]=(0,f.useState)(!1),[u,v]=(0,f.useState)(!1);(0,f.useRef)(!1);let w=!!j&&"free"!==j.subscription_tier;(0,f.useCallback)(async a=>{if(!a.email)return;let b=(0,h.fH)();if(b?.jwt&&b?.email===a.email){q||r(b);return}t(!0);try{let b=a.user_metadata||{},c=await (0,h.vr)(a.email,a.id,b.first_name,b.last_name);if(console.log("Cleeng SSO response:",c),c.jwt){let d=c.customerId;console.log("Cleeng customer ID from response:",d);let e={id:d||a.email,email:c.email||a.email,jwt:c.jwt,refreshToken:c.refreshToken};(0,h.gM)(e),r(e);let f="free",i="none";try{let b=await (0,h.X4)(d||a.email,c.jwt);console.log("Cleeng subscriptions response:",b);let e=b.responseData?.items||b.items||[];if(e.length>0){let a=e.find(a=>"active"===a.status||"paid"===a.status);if(a){let b=a.offerId||"",c=a.period||"";console.log("Active subscription - offerId:",b,"period:",c),c.toLowerCase().includes("year")||c.toLowerCase().includes("annual")?i="annual":c.toLowerCase().includes("month")?i="monthly":b.toLowerCase().includes("annual")||b.toLowerCase().includes("yearly")?i="annual":b.toLowerCase().includes("monthly")&&(i="monthly"),f=b.toLowerCase().includes("premium")?"premium":"basic"}}}catch(a){console.error("Error fetching subscriptions:",a)}if(d){let c={cleeng_customer_id:d,subscription_tier:f,billing_period:i};b.first_name&&(c.first_name=b.first_name),b.last_name&&(c.last_name=b.last_name),b.gender&&(c.gender=b.gender),b.birth_year&&(c.birth_year=b.birth_year),b.zip_code&&(c.zip_code=b.zip_code),(b.first_name||b.last_name)&&(c.display_name=[b.first_name,b.last_name].filter(Boolean).join(" ")),console.log("Upserting profile with Cleeng customer ID:",d,"tier:",f,"billing:",i);let e=await (0,g.Vf)(a.id,a.email,c);console.log("Profile upsert result:",e),e&&k(e)}console.log("Cleeng customer linked successfully with ID:",d,"tier:",f,"billing:",i)}else c.errors&&console.error("Cleeng SSO error:",c.errors)}catch(a){console.error("Failed to link to Cleeng:",a)}finally{t(!1),v(!0)}},[q]);let x=async(a,b,d)=>{try{let e={password_set:!0};if(d?.firstName&&(e.first_name=d.firstName),d?.lastName&&(e.last_name=d.lastName),d?.gender&&(e.gender=d.gender),d?.birthYear&&(e.birth_year=d.birthYear),d?.zipCode&&(e.zip_code=d.zipCode),!g.ND)return{success:!1,error:"Authentication not configured"};let{data:f,error:h}=await g.ND.auth.signUp({email:a,password:b,options:{data:e}});if(h){if(h.message.toLowerCase().includes("already registered")||h.message.toLowerCase().includes("user already exists"))return{success:!1,error:"An account with this email already exists. Please sign in instead.",existingUser:!0};if(h.message.toLowerCase().includes("database error"))return console.error("Supabase signup database error:",h.message),{success:!1,error:"Unable to create account. Please try again."};return{success:!1,error:h.message}}if(f.user&&!f.session&&f.user.identities?.length===0)return{success:!1,error:"An account with this email already exists. Please sign in instead.",existingUser:!0};return f.session&&(c(f.session),i(f.session.user),p("authenticated")),{success:!0}}catch(a){return{success:!1,error:"Failed to create account"}}},y=async(a,b)=>{try{if(!g.ND)return{success:!1,error:"Authentication not configured"};let{data:d,error:e}=await g.ND.auth.signInWithPassword({email:a,password:b});if(e)return{success:!1,error:e.message};if(d.session)return c(d.session),i(d.session.user),p("authenticated"),{success:!0};return{success:!1,error:"Sign in failed"}}catch(a){return{success:!1,error:"Failed to sign in"}}},z=async()=>{await g.ND?.auth.signOut(),c(null),i(null),k(null),p("email"),(0,h.Ef)(),r(null),v(!1)};return(0,e.jsx)(l.Provider,{value:{session:b,user:d,profile:j,isLoading:m,isAuthenticated:!!b&&!!d,authStep:o,hasActiveSubscription:w,cleengCustomer:q,isLinking:s,linkFailed:u&&!q,retryLink:()=>{v(!1)},signUp:x,signIn:y,logout:z},children:a})}d()}catch(a){d(a)}})},73425:(a,b,c)=>{Promise.resolve().then(c.bind(c,66664)),Promise.resolve().then(c.t.bind(c,27532,23))},74843:(a,b,c)=>{"use strict";c.a(a,async(a,d)=>{try{c.d(b,{u:()=>g});var e=c(59009),f=a([e]);function g(){return""}e=(f.then?(await f)():f)[0],d()}catch(a){d(a)}})},80049:(a,b,c)=>{Promise.resolve().then(c.bind(c,17290)),Promise.resolve().then(c.t.bind(c,14702,23))},82704:()=>{},88380:(a,b,c)=>{"use strict";async function d(a){if(!a.ok){let b=await a.text()||a.statusText;throw Error(`${a.status}: ${b}`)}}c.d(b,{qQ:()=>e});let e=new(c(62806)).E({defaultOptions:{queries:{queryFn:(({on401:a})=>async({queryKey:b})=>{let c=await fetch(b.join("/"),{credentials:"include"});return"returnNull"===a&&401===c.status?null:(await d(c),await c.json())})({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}})}};